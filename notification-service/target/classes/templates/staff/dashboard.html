<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi"
      th:replace="layout :: layout(~{::content})">

<content>

    <style>
        .dash-box {
            background: rgba(0,0,0,.45);
            border: 1px solid rgba(255,255,255,.12);
            backdrop-filter: blur(12px);
            border-radius: 18px;
            padding: 18px 22px;
            color: #fff;
            min-height: 200px;
        }
    </style>

    <div class="container py-4">

        <h1 class="mb-4 text-center fw-bold" style="color:white;">Dashboard Staff</h1>

        <div class="row g-4">

            <!-- ======================= HOT CARS ======================= -->
            <div class="col-md-4">
                <div class="dash-box">
                    <h5 class="mb-3">üî• D√≤ng xe hot (7 ng√†y g·∫ßn nh·∫•t)</h5>

                    <table class="table table-dark table-striped table-sm rounded-4">
                        <thead>
                        <tr>
                            <th>Model</th>
                            <th>L∆∞·ª£t ƒë·∫∑t</th>
                        </tr>
                        </thead>
                        <tbody>

                        <!-- car = Object[] -->
                        <tr th:each="car : ${hotCars}">
                            <td th:text="${car[0]}"></td>   <!-- trimName -->
                            <td th:text="${car[1]}"></td>   <!-- count -->
                        </tr>

                        <tr th:if="${hotCars == null or hotCars.size() == 0}">
                            <td colspan="2" class="text-center text-muted">Kh√¥ng c√≥ d·ªØ li·ªáu</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ======================= RECENT CUSTOMERS ======================= -->
            <div class="col-md-4">
                <div class="dash-box">
                    <h5 class="mb-3">üë§ Kh√°ch h√†ng m·ªõi t·∫°o g·∫ßn ƒë√¢y</h5>

                    <table class="table table-dark table-striped table-sm rounded-4">
                        <thead>
                        <tr>
                            <th>T√™n</th>
                            <th>SDT</th>
                            <th>Ng√†y t·∫°o</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="c : ${recentCustomers}">
                            <td th:text="${c.ten}"></td>
                            <td th:text="${c.sdt}"></td>
                            <td th:text="${#temporals.format(c.createdAt, 'dd/MM')}"></td>
                        </tr>

                        <tr th:if="${recentCustomers == null or recentCustomers.size() == 0}">
                            <td colspan="3" class="text-center text-muted">Kh√¥ng c√≥ d·ªØ li·ªáu</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ======================= TODAY TEST DRIVES ======================= -->
            <div class="col-md-4">
                <div class="dash-box">
                    <h5 class="mb-3">üöó L·ªãch l√°i th·ª≠ h√¥m nay</h5>

                    <table class="table table-dark table-striped table-sm rounded-4">
                        <thead>
                        <tr>
                            <th>Kh√°ch h√†ng</th>
                            <th>Xe</th>
                            <th>Gi·ªù</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr th:each="td : ${todayTestDrives}">
                            <td th:text="${td.customerName}"></td>
                            <td th:text="${td.vehicleName}"></td>
                            <td th:text="${#temporals.format(td.scheduleAt, 'HH:mm')}"></td>
                        </tr>

                        <tr th:if="${todayTestDrives == null or todayTestDrives.size() == 0}">
                            <td colspan="3" class="text-center text-muted">Kh√¥ng c√≥ l·ªãch h√¥m nay</td>
                        </tr>

                        </tbody>
                    </table>
                </div>
            </div>

        </div>

    </div>

</content>
</html>
