<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
      th:with="active='inventory', pageTitle='Create Inventory'"
      th:replace="~{layout :: layout(~{::main})}">

<main>

    <link rel="stylesheet" th:href="@{/css/forms.css}"/>

    <section class="page-header">
        <h1>Create Inventory</h1>
    </section>

    <section class="card form-card">

        <!-- ==== CREATE INVENTORY FORM ==== -->
        <form th:object="${inventory}"
              th:action="@{/admin/inventory}"
              method="post"
              class="form-grid">

            <!-- ID hidden (dùng khi edit nhưng create = null) -->
            <input type="hidden" th:field="*{id}"/>

            <!-- Trim -->
            <div class="field">
                <label>Trim *</label>
                <select th:field="*{trimId}" class="form-control trim-select" required>
                    <option value="">-- Select Trim --</option>
                    <option th:each="t : ${allTrims}"
                            th:value="${t.id}"
                            th:text="${t.vehicle != null ? (t.vehicle.modelName + ' - ' + t.trimName) : t.trimName}">
                    </option>
                </select>
            </div>

            <!-- Dealer -->
            <div class="field">
                <label>Dealer *</label>
                <select th:field="*{dealerId}" required>
                    <option value="">— Select Dealer —</option>
                    <option th:each="d : ${allDealers}"
                            th:value="${d.id}"
                            th:text="${d.name}">
                    </option>
                </select>
            </div>

            <!-- Location -->
            <div class="field">
                <label>Location Type</label>
                <select th:field="*{locationType}" class="form-select">
                    <option value="HQ">HQ (Kho tổng)</option>
                    <option value="BRANCH">Branch (Kho chi nhánh)</option>
                </select>
            </div>

            <!-- Quantity -->
            <div class="field">
                <label>Quantity On Hand</label>
                <input th:field="*{qtyOnHand}" type="number" min="0" required>
            </div>

            <!-- Actions -->
            <div class="field lg form-actions">
                <a class="btn btn-outline" th:href="@{/admin/inventory}">Cancel</a>
                <button class="btn btn-gradient" type="submit">Create</button>
            </div>

        </form>

    </section>

</main>
</html>
