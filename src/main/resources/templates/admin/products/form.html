<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
      th:with="active='products', pageTitle='Create Vehicle'"
      th:replace="~{layout :: layout(~{::main})}">
<main>
    <link rel="stylesheet" th:href="@{/css/forms.css}">
    <section class="page-header">
        <h1>Create Vehicle</h1>
    </section>

    <section class="card form-card">
        <form th:action="@{/admin/products}" method="post" th:object="${vehicle}" class="form-grid" novalidate>
            <div class="field">
                <label>Model Code *</label>
                <input th:field="*{modelCode}" placeholder="EV6" required>
            </div>

            <div class="field">
                <label>Model Name *</label>
                <input th:field="*{modelName}" placeholder="EV6 GT-Line" required>
            </div>

            <div class="field">
                <label>Brand</label>
                <input th:field="*{brand}" placeholder="EVM">
            </div>

            <div class="field">
                <label>Body Type</label>
                <select th:field="*{bodyType}">
                    <option value="">— Select —</option>
                    <option value="SUV">SUV</option>
                    <option value="Sedan">Sedan</option>
                    <option value="Hatchback">Hatchback</option>
                    <option value="Crossover">Crossover</option>
                    <option value="Coupe">Coupe</option>
                    <option value="Pickup">Pickup</option>
                    <option value="Van">Van</option>
                </select>
            </div>


            <div class="field sm">
                <label>Warranty (months)</label>
                <input type="number" min="0" step="1" th:field="*{warrantyMonths}" placeholder="36">
            </div>

            <div class="field lg form-actions">
                <a class="btn btn-outline" th:href="@{/admin/products}">Cancel</a>

                <!-- Nếu là edit thì hiện thêm nút Delete -->
                <button class="btn btn-danger"
                        th:if="${isEdit}"
                        type="submit"
                        formaction=""
                        th:formaction="@{'/admin/products/' + ${vehicle.id} + '/delete'}"
                        th:onclick="return confirm('Are you sure you want to delete this vehicle?')">
                    Delete
                </button>

                <button class="btn btn-gradient" type="submit">Save</button>
            </div>

        </form>
    </section>

    <script>
        const mc = document.querySelector('[name="modelCode"]');
        if (mc) mc.addEventListener('input', e => e.target.value = e.target.value.toUpperCase());
    </script>
</main>
</html>
